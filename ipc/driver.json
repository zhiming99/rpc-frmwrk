{
    "Version": "1.0",
    "Drivers": [
        {
            "DriverName": "DBusBusDriver",
            "DriverType": "BusDriver",
            "BusClass": "DBusBus",
            "InternalClass": "CDBusBusDriver",
            "Description": "This is a bus driver, and the port it creats is the DBusBusPort",
            "PortClasses": [
                "DBusBusPort"
            ]
        },
        {
            "DriverName": "RpcTcpBusDriver",
            "DriverType": "BusDriver",
            "BusClass": "RpcTcpBus",
            "InternalClass": "CRpcTcpBusDriver",
            "PortClasses": [
                "RpcTcpBusPort"
            ]
        },
        {
            "DriverName": "ProxyFdoDriver",
            "DriverType": "PortDriver",
            "InternalClass": "CProxyFdoDriver",
            "Description": "This is a function port driver, and the port it creats is the DBusProxyFdo",
            "PortClasses": [
                "DBusProxyFdo"
            ]
        },
        {
            "DriverName": "RpcTcpFidoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CRpcTcpFidoDrv",
            "Description": "This is a filter port driver, and the port it creats is the CRpcTcpFido",
            "PortClasses": [
                "RpcTcpFido"
            ]
        },
        {
            "DriverName": "RpcWebSockFidoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CRpcWebSockFidoDrv",
            "Description": "This is a filter port driver, and the port it creats is the CRpcTcpFido",
            "PortClasses": [
                "RpcWebSockFido"
            ]
        },
        {
            "DriverName": "RpcNatProtoFdoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CRpcNatProtoFdoDrv",
            "Description": "This is a FDO port driver, and the port it creats is the CRpcNativeProtoFdo",
            "PortClasses": [
                "RpcNativeProtoFdo"
            ]
        },
        {
            "DriverName": "RpcOpenSSLFidoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CRpcOpenSSLFidoDrv",
            "Description": "This is a filter port driver, and the port it creats is the CRpcOpenSSLFido",
            "PortClasses": [
                "RpcOpenSSLFido"
            ]
        },
        {
            "DriverName": "RpcGmSSLFidoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CRpcGmSSLFidoDrv",
            "Description": "This is a filter port driver, and the port it creats is the CRpcGmSSLFido",
            "PortClasses": [
                "RpcGmSSLFido"
            ]
        },
        {
            "DriverName": "RpcSecFidoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CRpcSecFidoDrv",
            "Description": "This is a filter port driver, and the port it creats is the CRpcSecFido",
            "PortClasses": [
                "RpcSecFido"
            ]
        },
        {
            "DriverName": "KdcRelayFdoDrv",
            "DriverType": "PortDriver",
            "InternalClass": "CKdcRelayFdoDrv",
            "Description": "This is a FDO port driver, and the port it creats is the CRpcNativeProtoFdo",
            "PortClasses": [
                "KdcRelayFdo"
            ]
        },
        {
            "DriverName": "UnixSockBusDriver",
            "DriverType": "BusDriver",
            "InternalClass": "CUnixSockBusDriver",
            "BusClass": "UnixSockBus",
            "Description": "This is a bus driver for unix stream sock, and the port it creats is the UnixSockBusPort",
            "PortClasses": [
                "UnixSockBusPort"
            ]
        },
        {
            "BusClass": "DBusStreamBus",
            "Description": "This is a bus driver, and the port created is DBusStreamBusPort",
            "DriverName": "DBusStreamBusDrv",
            "DriverType": "BusDriver",
            "InternalClass": "CDBusStreamBusDrv",
            "PortClasses": [
                "DBusStreamBusPort"
            ]
        }
    ],
    "Ports": [
        {
            "PortType": "Pdo",
            "PortClass": "DBusLocalPdo",
            "InternalClass": "CDBusLocalPdo",
            "PortDriver": "",
            "BusPortClass": "DBusBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "DBusLoopbackPdo",
            "InternalClass": "CDBusLoopbackPdo",
            "PortDriver": "",
            "BusPortClass": "DBusBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "DBusLoopbackPdo2",
            "InternalClass": "CDBusLoopbackPdo2",
            "PortDriver": "",
            "BusPortClass": "DBusBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "DBusProxyPdo",
            "InternalClass": "CDBusProxyPdo",
            "PortDriver": "",
            "BusPortClass": "DBusBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "DBusProxyPdoLpbk",
            "InternalClass": "CDBusProxyPdoLpbk",
            "PortDriver": "",
            "BusPortClass": "DBusBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "DBusProxyPdoLpbk2",
            "InternalClass": "CDBusProxyPdoLpbk2",
            "PortDriver": "",
            "BusPortClass": "DBusBusPort"
        },
        {
            "PortType": "Fdo",
            "PortClass": "DBusProxyFdo",
            "InternalClass": "CDBusProxyFdo",
            "PortDriver": "ProxyFdoDriver"
        },
        {
            "PortType": "Fido",
            "PortClass": "RpcTcpFido",
            "InternalClass": "CRpcTcpFido",
            "PortDriver": "RpcTcpFidoDrv"
        },
        {
            "PortType": "Fido",
            "PortClass": "RpcWebSockFido",
            "InternalClass": "CRpcWebSockFido",
            "PortDriver": "RpcWebSockFidoDrv"
        },
        {
            "PortType": "Fido",
            "PortClass": "RpcOpenSSLFido",
            "InternalClass": "CRpcOpenSSLFido",
            "PortDriver": "RpcOpenSSLFidoDrv",
            "Parameters": {
                "comments": "Certificate and private key file paths",
                "CertFile": "./server.crt",
                "KeyFile": "./server.key",
                "CACertFile": "",
                "SecretFile": ""
            },
            "VerifyPeer": "false"
        },
        {
            "PortType": "Fido",
            "PortClass": "RpcGmSSLFido",
            "InternalClass": "CRpcGmSSLFido",
            "PortDriver": "RpcGmSSLFidoDrv",
            "Parameters": {
                "comments": "Certificate and private key file paths",
                "CertFile": "./server.pem",
                "KeyFile": "./server.pem",
                "CACertFile": "",
                "SecretFile": ""
            },
            "VerifyPeer": "false"
        },
        {
            "PortType": "Fido",
            "PortClass": "RpcSecFido",
            "InternalClass": "CRpcSecFido",
            "PortDriver": "RpcSecFidoDrv"
        },
        {
            "PortType": "Fdo",
            "PortClass": "RpcNativeProtoFdo",
            "InternalClass": "CRpcNativeProtoFdo",
            "PortDriver": "RpcNatProtoFdoDrv"
        },
        {
            "PortType": "Fdo",
            "PortClass": "KdcRelayFdo",
            "InternalClass": "CKdcRelayFdo",
            "PortDriver": "KdcRelayPdoDrv"
        },
        {
            "PortType": "Pdo",
            "PortClass": "TcpStreamPdo",
            "InternalClass": "CTcpStreamPdo",
            "BusPortClass": "RpcTcpBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "TcpStreamPdo2",
            "InternalClass": "CTcpStreamPdo2",
            "BusPortClass": "RpcTcpBusPort"
        },
        {
            "PortType": "Pdo",
            "PortClass": "KdcRelayPdo",
            "InternalClass": "CKdcRelayPdo",
            "BusPortClass": "RpcTcpBusPort"
        },
        {
            "PortType": "Fdo",
            "PortClass": "DBusBusPort",
            "PortDriver": "DBusBusDriver",
            "InternalClass": "CDBusBusPort"
        },
        {
            "PortType": "Fdo",
            "PortClass": "RpcTcpBusPort",
            "PortDriver": "RpcTcpBusDriver",
            "InternalClass": "CTcpRpcBusPort",
            "Parameters": [
                {
                    "comment-1": "remove it or change it according to your environment",
                    "AddrFormat": "ipv4",
                    "Protocol": "native",
                    "comment-2": "port 4132 will accept native non-websocket connection",
                    "PortNumber": "4132",
                    "BindAddr": "127.0.0.1",
                    "comment": "inter-changable with 'TcpStreamPdo' when in a trusted and stable environment",
                    "PdoClass": "TcpStreamPdo2",
                    "Compression": "true",
                    "EnableWS": "false",
                    "EnableSSL": "false",
                    "HasAuth": "false",
                    "RouterPath": "/"
                },
                {
                    "AddrFormat": "ipv4",
                    "Protocol": "native",
                    "comment-2": "port 4133 will accept websocket connection from httpd",
                    "PortNumber": "4133",
                    "BindAddr": "127.0.0.1",
                    "PdoClass": "TcpStreamPdo2",
                    "Compression": "true",
                    "EnableWS": "false",
                    "EnableSSL": "false",
                    "ConnRecover": "false",
                    "HasAuth": "true",
                    "AuthMech" : "krb5"
                }
            ],
            "MaxConnections": "512"
        },
        {
            "PortType": "Pdo",
            "PortClass": "UnixSockStmPdo",
            "InternalClass": "CUnixSockStmPdo",
            "PortDriver": "",
            "BusPortClass": "UnixSockBusPort"
        },
        {
            "PortType": "Fdo",
            "PortClass": "UnixSockBusPort",
            "PortDriver": "UnixSockBusDriver",
            "InternalClass": "CUnixSockBusPort"
        },
        {
            "BusPortClass": "DBusStreamBusPort",
            "InternalClass": "CDBusStreamPdo",
            "PortClass": "DBusStreamPdo",
            "PortDriver": "",
            "PortType": "Pdo"
        },
        {
            "InternalClass": "CDBusStreamBusPort",
            "PortClass": "DBusStreamBusPort",
            "PortDriver": "DBusStreamBusDrv",
            "PortType": "Fdo"
        }
    ],
    "Modules": [
        {
            "ModName": "smoketest",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "ifsvrsmk",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "ifclismk",
            "DriversToLoad": [
                "DBusBusDriver",
                "ProxyFdoDriver"
            ]
        },
        {
            "ModName": "hwsvrsmk",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "hwclismk",
            "DriversToLoad": [
                "DBusBusDriver",
                "ProxyFdoDriver"
            ]
        },
        {
            "ModName": "asyncsvrsmk",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "asynclismk",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "actcsvrtst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "actclitst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "evtsvrtst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "evtclitst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "inproctst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "kasvrtst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "kaclitst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "prclitst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "prsvrtst",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "sfclitst",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "sfsvrtst",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "stmclitst",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "stmsvrtst",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "rpcrouter",
            "DriversToLoad": [
                "DBusBusDriver",
                "RpcTcpBusDriver",
                "UnixSockBusDriver"
            ],
            "PreloadableObjects": [
                {
                    "comment": "remove the surfix '-1' of the field name to enable the object",
                    "ObjectName-1": "RpcRouter-0",
                    "ObjectClass-1": "RpcRouterImpl"
                }
            ],
            "ClassFactories": [
                "./libfuseif.so",
                "./libauth.so"
            ]
        },
        {
            "ModName": "hostsvr",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver",
                "DBusStreamBusDrv"
            ],
            "ClassFactories": [
                "./libfuseif.so"
            ]
        },
        {
            "ModName": "hostcli",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver",
                "DBusStreamBusDrv"
            ],
            "ClassFactories": [
                "./libfuseif.so"
            ]
        },
        {
            "ModName": "btinrtsvr",
            "DriversToLoad": [
                "DBusBusDriver",
                "RpcTcpBusDriver",
                "UnixSockBusDriver"
            ],
            "PreloadableObjects": [
                {
                    "comment": "remove the surfix '-1' of the field name to enable the object",
                    "ObjectName-1": "RpcRouter-0",
                    "ObjectClass-1": "RpcRouterImpl"
                }
            ],
            "ClassFactories": []
        },
        {
            "ModName": "btinrtcli",
            "DriversToLoad": [
                "DBusBusDriver",
                "RpcTcpBusDriver",
                "UnixSockBusDriver",
                "ProxyFdoDriver"
            ],
            "PreloadableObjects": [
                {
                    "comment": "remove the surfix '-1' of the field name to enable the object",
                    "ObjectName-1": "RpcRouter-0",
                    "ObjectClass-1": "RpcRouterImpl"
                }
            ],
            "ClassFactories": []
        },
        {
            "ModName": "KdcChannel",
            "DriversToLoad": [
                "DBusBusDriver"
            ]
        },
        {
            "ModName": "PyRpcProxy",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "PyRpcServer",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "JavaRpcProxy",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ModName": "JavaRpcServer",
            "DriversToLoad": [
                "DBusBusDriver",
                "UnixSockBusDriver"
            ]
        },
        {
            "ClassFactories" : [ "./libregfs.so" ],
            "DriversToLoad" : [ "DBusBusDriver" ],
            "ModName" : "regfsmnt"
        }
    ],
    "Match": [
        {
            "PortClass": "DBusLocalPdo",
            "FdoDriver": ""
        },
        {
            "PortClass": "DBusLoopbackPdo",
            "FdoDriver": ""
        },
        {
            "PortClass": "DBusLoopbackPdo2",
            "FdoDriver": ""
        },
        {
            "PortClass": "DBusProxyPdoLpbk",
            "FdoDriver": "ProxyFdoDriver",
            "Description": "This match provides a binding between the pdo and fdo"
        },
        {
            "PortClass": "DBusProxyPdoLpbk2",
            "FdoDriver": "ProxyFdoDriver",
            "Description": "This match provides a binding between the pdo and fdo"
        },
        {
            "PortClass": "DBusProxyPdo",
            "FdoDriver": "ProxyFdoDriver",
            "Description": "This match provides a binding between the pdo and fdo"
        },
        {
            "PortClass": "TcpStreamPdo",
            "FidoDriver": "RpcTcpFidoDrv",
            "Description": "This match provides a binding between the pdo and the uppper fido"
        },
        {
            "PortClass": "TcpStreamPdo2",
            "comment": "ProbeSequence specify the order of the drivers' Probe to call to build the port stack",
            "ProbeSequence": [
                "RpcSecFidoDrv",
                "RpcNatProtoFdoDrv",
                "RpcTcpFidoDrv"
            ],
            "Description": "This match provides a binding between the pdo and the uppper fdo and fido",
            "comment-1": "this is a new fork of the TcpStreamPdo, with better flexibility and extensibility",
            "UsingGmSSL": "false"
        },
        {
            "PortClass": "KdcRelayPdo",
            "ProbeSequence": [
                "KdcRelayFdoDrv"
            ]
        },
        {
            "PortClass": "UnixSockStmPdo",
            "FdoDriver": ""
        }
    ],
    "Arch": {
        "comment-1": "giving a non-zero value to limit the number of cores to use, otherwise assuming all the cores will be utilized", 
        "Processors": "0"
    }
}
