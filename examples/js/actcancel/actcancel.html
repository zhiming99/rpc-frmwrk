<!--
 GENERATED BY RIDLC, MAKE SURE TO BACKUP BEFORE RUNNING RIDLC AGAIN
 Copyright (C) 2024  zhiming <woodhead99@gmail.com>
 This program can be distributed under the terms of the GNU GPLv3.

* command line: /usr/local/bin/ridlc -JO. --odesc_url=http://example.com/rpcf ../../actcancel.ridl 
* npm dependency: assert browserify buffer exports minify long lz4 process put safe-buffer stream xxhash xxhashjs webpack webpack-cli
-->
<!DOCTYPE html>
<html><head><meta charset="utf-8" /></head></html>
<body>
<p id="log">Sample HTML<br /></p>
<script>
globalThis.onRpcReady = ()=>{
   var oContext = new Object()
    oProxy.LongWait(
        oContext, "hello, World!" )
    if( oContext.m_qwTaskId !== undefined )
    {
        setTimeout( ()=>{
            oProxy.m_funcCancelRequest(
                oContext.m_qwTaskId,
                (ret, qwTaskId)=>{
                    oProxy.DebugPrint( `Canceling request ${qwTaskId} completed with status ${ret}` )
                    oProxy.DebugPrint( 'ActiveCancel completed successfully' )
                    oProxy.Stop( ret )
                })
        }, 5000)
    }
}
</script>
<script src="dist/actcancel.js">
</script>
<script>
console.log( "hello, actcancel!");
var iChecks = 0;
function checkProxyState(){
    if( globalThis.oProxy === undefined ){
        setTimeout( checkProxyState, 2000 );
        console.log( "Waiting RPC connection ready..." );
    }else if( globalThis.oProxy.m_iState === 5 ){
        console.log( "RPC connection is down..." );
        globalThis.oProxy = null;
    }else{
        if( iChecks++ === 0 )
            console.log( "RPC connection ready " + globalThis.oProxy );
        setTimeout( checkProxyState, 5000 );
    }
}
setTimeout( checkProxyState, 2000 );
//# sourceURL=rpcf://htmlcode/checkstate.js
</script>
</body>
